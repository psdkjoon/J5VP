<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Japanese Verb Practice</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            background-color: #121212;
            color: #e0e0e0;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
        }

        h1 {
            color: #ffa011;
            font-weight: 300;
        }

        #flashcard {
            background-color: #1e1e1e;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 6px 12px rgba(0,0,0,0.4);
            text-align: center;
            width: 100%;
            max-width: 480px; /* Increased max-width to better fit multiple kanji */
            border: 1px solid #333;
        }

        #verb-info p {
            font-size: 1.25em;
            margin: 12px 0;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        #verb-info p strong {
            color: #888;
            font-weight: 500;
            margin-right: 8px;
        }

        #handwriting-container {
            margin: 20px 0;
            display: flex; /* Use Flexbox to align multiple kanji boxes */
            justify-content: center;
            align-items: center;
            flex-wrap: wrap; /* Allows wrapping if too many kanji */
            gap: 10px; /* Adds a nice space between kanji boxes */
            min-height: 150px;
        }

        .kanji-box {
            background-color: #fff;
            border-radius: 8px;
            width: 150px; /* Set a fixed size for each kanji box */
            height: 150px;
        }

        button#next-button {
            background-color: #ffa011;
            color: #121212;
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.1em;
            margin-top: 15px;
            font-weight: bold;
            transition: background-color 0.2s ease;
        }

        button#next-button:hover {
            background-color: #a86706;
        }
        
        #speak-button {
            background: none;
            border: none;
            cursor: pointer;
            font-size: 1.4em;
            padding: 0 8px;
            vertical-align: middle;
            color: #ffa011;
            margin-left: 5px;
        }
    </style>
</head>
<body>

    <h1>Japanese Verb Practice</h1>

    <div id="flashcard">
        <div id="verb-info">
            <p><strong>Meaning:</strong> <span id="meaning"></span></p>
            <p><strong>Kana:</strong> <span id="kana"></span><button id="speak-button" title="Read aloud">ğŸ”Š</button></p>
            <p><strong>Kanji:</strong> <span id="kanji"></span></p>
            <p><strong>Type:</strong> <span id="type"></span></p>
        </div>
        <div id="handwriting-container">
            </div>
        <button id="next-button">Next Verb</button>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/hanzi-writer@3.5/dist/hanzi-writer.min.js"></script>
    <script id="verb-data" type="application/json">
        [{"kanji":"æœ‰ã‚‹","kana":"ã‚ã‚‹","meaning":"to be, to have","type":"u-verb"},{"kanji":"è¡Œã","kana":"ã„ã","meaning":"to go","type":"u-verb"},{"kanji":"è¦ã‚‹","kana":"ã„ã‚‹","meaning":"to need","type":"u-verb"},{"kanji":"ä¼šã†","kana":"ã‚ã†","meaning":"to meet","type":"u-verb"},{"kanji":"é–‹ã‘ã‚‹","kana":"ã‚ã‘ã‚‹","meaning":"to open","type":"ru-verb"},{"kanji":"éŠã¶","kana":"ã‚ãã¶","meaning":"to play","type":"u-verb"},{"kanji":"é›†ã¾ã‚‹","kana":"ã‚ã¤ã¾ã‚‹","meaning":"to gather","type":"u-verb"},{"kanji":"æµ´ã³ã‚‹","kana":"ã‚ã³ã‚‹","meaning":"to bathe","type":"ru-verb"},{"kanji":"æ´—ã†","kana":"ã‚ã‚‰ã†","meaning":"to wash","type":"u-verb"},{"kanji":"è¨€ã†","kana":"ã„ã†","meaning":"to say","type":"u-verb"},{"kanji":"å…¥ã‚Œã‚‹","kana":"ã„ã‚Œã‚‹","meaning":"to insert","type":"ru-verb"},{"kanji":"å‹•ã","kana":"ã†ã”ã","meaning":"to move","type":"u-verb"},{"kanji":"æ­Œã†","kana":"ã†ãŸã†","meaning":"to sing","type":"u-verb"},{"kanji":"ç”Ÿã¾ã‚Œã‚‹","kana":"ã†ã¾ã‚Œã‚‹","meaning":"to be born","type":"ru-verb"},{"kanji":"å£²ã‚‹","kana":"ã†ã‚‹","meaning":"to sell","type":"u-verb"},{"kanji":"èµ·ãã‚‹","kana":"ãŠãã‚‹","meaning":"to wake up","type":"ru-verb"},{"kanji":"ç½®ã","kana":"ãŠã","meaning":"to put","type":"u-verb"},{"kanji":"æ•™ãˆã‚‹","kana":"ãŠã—ãˆã‚‹","meaning":"to teach","type":"ru-verb"},{"kanji":"æŠ¼ã™","kana":"ãŠã™","meaning":"to push","type":"u-verb"},{"kanji":"è¦šãˆã‚‹","kana":"ãŠã¼ãˆã‚‹","meaning":"to remember","type":"ru-verb"},{"kanji":"æ³³ã","kana":"ãŠã‚ˆã","meaning":"to swim","type":"u-verb"},{"kanji":"é™ã‚Šã‚‹","kana":"ãŠã‚Šã‚‹","meaning":"to get off","type":"ru-verb"},{"kanji":"çµ‚ã‚ã‚‹","kana":"ãŠã‚ã‚‹","meaning":"to end","type":"u-verb"},{"kanji":"è²·ã†","kana":"ã‹ã†","meaning":"to buy","type":"u-verb"},{"kanji":"è¿”ã™","kana":"ã‹ãˆã™","meaning":"to return (a thing)","type":"u-verb"},{"kanji":"å¸°ã‚‹","kana":"ã‹ãˆã‚‹","meaning":"to go home","type":"u-verb"},{"kanji":"æ›ã‹ã‚‹","kana":"ã‹ã‹ã‚‹","meaning":"to take (time, money)","type":"u-verb"},{"kanji":"æ›¸ã","kana":"ã‹ã","meaning":"to write","type":"u-verb"},{"kanji":"å€Ÿã‚Šã‚‹","kana":"ã‹ã‚Šã‚‹","meaning":"to borrow","type":"ru-verb"},{"kanji":"æ¶ˆãˆã‚‹","kana":"ããˆã‚‹","meaning":"to disappear","type":"ru-verb"},{"kanji":"èã","kana":"ãã","meaning":"to listen","type":"u-verb"},{"kanji":"æ±ºã‚ã‚‹","kana":"ãã‚ã‚‹","meaning":"to decide","type":"ru-verb"},{"kanji":"ç€ã‚‹","kana":"ãã‚‹","meaning":"to wear","type":"ru-verb"},{"kanji":"---","kana":"ãã ã•ã‚‹","meaning":"to give (to me)","type":"u-verb"},{"kanji":"---","kana":"ãã‚Œã‚‹","meaning":"to give (to me)","type":"ru-verb"},{"kanji":"é–‰ã‚ã‚‹","kana":"ã—ã‚ã‚‹","meaning":"to close","type":"ru-verb"},{"kanji":"çŸ¥ã‚‹","kana":"ã—ã‚‹","meaning":"to know","type":"u-verb"},{"kanji":"å¸ã†","kana":"ã™ã†","meaning":"to smoke, to inhale","type":"u-verb"},{"kanji":"ä½ã‚€","kana":"ã™ã‚€","meaning":"to live","type":"u-verb"},{"kanji":"åº§ã‚‹","kana":"ã™ã‚ã‚‹","meaning":"to sit","type":"u-verb"},{"kanji":"å‡ºã™","kana":"ã ã™","meaning":"to take out, submit","type":"u-verb"},{"kanji":"ç«‹ã¤","kana":"ãŸã¤","meaning":"to stand","type":"u-verb"},{"kanji":"é ¼ã‚€","kana":"ãŸã®ã‚€","meaning":"to ask, to request","type":"u-verb"},{"kanji":"é£Ÿã¹ã‚‹","kana":"ãŸã¹ã‚‹","meaning":"to eat","type":"ru-verb"},{"kanji":"é•ã†","kana":"ã¡ãŒã†","meaning":"to be different","type":"u-verb"},{"kanji":"ä½¿ã†","kana":"ã¤ã‹ã†","meaning":"to use","type":"u-verb"},{"kanji":"ç–²ã‚Œã‚‹","kana":"ã¤ã‹ã‚Œã‚‹","meaning":"to be tired","type":"ru-verb"},{"kanji":"ç€ã","kana":"ã¤ã","meaning":"to arrive","type":"u-verb"},{"kanji":"ä½œã‚‹","kana":"ã¤ãã‚‹","meaning":"to make","type":"u-verb"},{"kanji":"ä»˜ã‘ã‚‹","kana":"ã¤ã‘ã‚‹","meaning":"to turn on","type":"ru-verb"},{"kanji":"å‹¤ã‚ã‚‹","kana":"ã¤ã¨ã‚ã‚‹","meaning":"to work for","type":"ru-verb"},{"kanji":"å‡ºæ›ã‘ã‚‹","kana":"ã§ã‹ã‘ã‚‹","meaning":"to go out","type":"ru-verb"},{"kanji":"---","kana":"ã§ãã‚‹","meaning":"to be able to","type":"ru-verb"},{"kanji":"å‡ºã‚‹","kana":"ã§ã‚‹","meaning":"to leave","type":"ru-verb"},{"kanji":"é£›ã¶","kana":"ã¨ã¶","meaning":"to fly","type":"u-verb"},{"kanji":"æ­¢ã¾ã‚‹","kana":"ã¨ã¾ã‚‹","meaning":"to stop","type":"u-verb"},{"kanji":"å–ã‚‹","kana":"ã¨ã‚‹","meaning":"to take","type":"u-verb"},{"kanji":"æ’®ã‚‹","kana":"ã¨ã‚‹","meaning":"to take (a photo)","type":"u-verb"},{"kanji":"ç›´ã™","kana":"ãªãŠã™","meaning":"to fix","type":"u-verb"},{"kanji":"ç¿’ã†","kana":"ãªã‚‰ã†","meaning":"to learn","type":"u-verb"},{"kanji":"ãªã‚‹","kana":"ãªã‚‹","meaning":"to become","type":"u-verb"},{"kanji":"è„±ã","kana":"ã¬ã","meaning":"to take off (clothes)","type":"u-verb"},{"kanji":"å¯ã‚‹","kana":"ã­ã‚‹","meaning":"to sleep","type":"ru-verb"},{"kanji":"ç™»ã‚‹","kana":"ã®ã¼ã‚‹","meaning":"to climb","type":"u-verb"},{"kanji":"é£²ã‚€","kana":"ã®ã‚€","meaning":"to drink","type":"u-verb"},{"kanji":"ä¹—ã‚‹","kana":"ã®ã‚‹","meaning":"to ride","type":"u-verb"},{"kanji":"å…¥ã‚‹","kana":"ã¯ã„ã‚‹","meaning":"to enter","type":"u-verb"},{"kanji":"å±¥ã","kana":"ã¯ã","meaning":"to wear (below waist)","type":"u-verb"},{"kanji":"å§‹ã¾ã‚‹","kana":"ã¯ã˜ã¾ã‚‹","meaning":"to begin","type":"u-verb"},{"kanji":"èµ°ã‚‹","kana":"ã¯ã—ã‚‹","meaning":"to run","type":"u-verb"},{"kanji":"åƒã","kana":"ã¯ãŸã‚‰ã","meaning":"to work","type":"u-verb"},{"kanji":"è©±ã™","kana":"ã¯ãªã™","meaning":"to speak","type":"u-verb"},{"kanji":"å¼µã‚‹","kana":"ã¯ã‚‹","meaning":"to post, to stick","type":"u-verb"},{"kanji":"æ™´ã‚Œã‚‹","kana":"ã¯ã‚Œã‚‹","meaning":"to be sunny","type":"ru-verb"},{"kanji":"å¼•ã","kana":"ã²ã","meaning":"to pull","type":"u-verb"},{"kanji":"å¼¾ã","kana":"ã²ã","meaning":"to play (a string instrument)","type":"u-verb"},{"kanji":"å¤ªã‚‹","kana":"ãµã¨ã‚‹","meaning":"to get fat","type":"u-verb"},{"kanji":"é™ã‚‹","kana":"ãµã‚‹","meaning":"to fall (rain, snow)","type":"u-verb"},{"kanji":"æ›²ãŒã‚‹","kana":"ã¾ãŒã‚‹","meaning":"to turn","type":"u-verb"},{"kanji":"å¾…ã¤","kana":"ã¾ã¤","meaning":"to wait","type":"u-verb"},{"kanji":"ç£¨ã","kana":"ã¿ãŒã","meaning":"to brush, to polish","type":"u-verb"},{"kanji":"è¦‹ã›ã‚‹","kana":"ã¿ã›ã‚‹","meaning":"to show","type":"ru-verb"},{"kanji":"è¦‹ã‚‹","kana":"ã¿ã‚‹","meaning":"to see","type":"ru-verb"},{"kanji":"æŒã¤","kana":"ã‚‚ã¤","meaning":"to hold","type":"u-verb"},{"kanji":"ä¼‘ã‚€","kana":"ã‚„ã™ã‚€","meaning":"to rest, to be absent","type":"u-verb"},{"kanji":"ç—©ã›ã‚‹","kana":"ã‚„ã›ã‚‹","meaning":"to become slim","type":"ru-verb"},{"kanji":"å‘¼ã¶","kana":"ã‚ˆã¶","meaning":"to call","type":"u-verb"},{"kanji":"èª­ã‚€","kana":"ã‚ˆã‚€","meaning":"to read","type":"u-verb"},{"kanji":"åˆ†ã‹ã‚‹","kana":"ã‚ã‹ã‚‹","meaning":"to understand","type":"u-verb"},{"kanji":"å¿˜ã‚Œã‚‹","kana":"ã‚ã™ã‚Œã‚‹","meaning":"to forget","type":"ru-verb"},{"kanji":"æ¸¡ã™","kana":"ã‚ãŸã™","meaning":"to hand over","type":"u-verb"},{"kanji":"æ¸¡ã‚‹","kana":"ã‚ãŸã‚‹","meaning":"to cross","type":"u-verb"},{"kanji":"ç¬‘ã†","kana":"ã‚ã‚‰ã†","meaning":"to laugh","type":"u-verb"},{"kanji":"---","kana":"ã‚ã’ã‚‹","meaning":"to give","type":"ru-verb"},{"kanji":"---","kana":"ã„ã‚‰ã£ã—ã‚ƒã‚‹","meaning":"to be, to go, to come (respectful)","type":"u-verb"},{"kanji":"---","kana":"ãŠã£ã—ã‚ƒã‚‹","meaning":"to say (respectful)","type":"u-verb"},{"kanji":"---","kana":"ãªã•ã‚‹","meaning":"to do (respectful)","type":"u-verb"},{"kanji":"---","kana":"ã‚ã—ã‚ãŒã‚‹","meaning":"to eat, to drink (respectful)","type":"u-verb"},{"kanji":"---","kana":"ã”ã‚‰ã‚“ã«ãªã‚‹","meaning":"to see (respectful)","type":"u-verb"},{"kanji":"---","kana":"ã„ã‚‹","meaning":"to be (animate)","type":"ru-verb"},{"kanji":"æ¥ã‚‹","kana":"ãã‚‹","meaning":"to come","type":"irregular-verb"},{"kanji":"---","kana":"ã™ã‚‹","meaning":"to do","type":"irregular-verb"},{"kanji":"å‹‰å¼·ã™ã‚‹","kana":"ã¹ã‚“ãã‚‡ã†ã™ã‚‹","meaning":"to study","type":"irregular-verb"},{"kanji":"é€£ã‚Œã¦æ¥ã‚‹","kana":"ã¤ã‚Œã¦ãã‚‹","meaning":"to bring (a person)","type":"irregular-verb"},{"kanji":"æŒã£ã¦æ¥ã‚‹","kana":"ã‚‚ã£ã¦ãã‚‹","meaning":"to bring (a thing)","type":"irregular-verb"}]
    </script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const meaningEl = document.getElementById('meaning');
            const kanaEl = document.getElementById('kana');
            const kanjiEl = document.getElementById('kanji');
            const typeEl = document.getElementById('type');
            const nextButton = document.getElementById('next-button');
            const speakButton = document.getElementById('speak-button');
            const handwritingContainer = document.getElementById('handwriting-container');
            const flashcardEl = document.getElementById('flashcard');

            const verbs = JSON.parse(document.getElementById('verb-data').textContent);
            
            for (let i = verbs.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [verbs[i], verbs[j]] = [verbs[j], verbs[i]];
            }

            let currentVerbIndex = 0;

            function speak(text) {
                const audioUrl = `https://translate.google.com/translate_tts?ie=UTF-8&client=tw-ob&q=${encodeURIComponent(text)}&tl=ja`;
                const audio = new Audio(audioUrl);
                audio.play();
            }
            
            function loadVerb() {
                if (currentVerbIndex >= verbs.length) {
                    flashcardEl.innerHTML = `<h1>ãŠç–²ã‚Œæ§˜ã§ã—ãŸï¼</h1><p>(Otsukaresama deshita - Good work!)</p><p>You've practiced all the verbs. Reload to start again!</p>`;
                    return;
                }

                const verb = verbs[currentVerbIndex];
                meaningEl.textContent = verb.meaning;
                kanaEl.textContent = verb.kana;
                kanjiEl.textContent = verb.kanji;
                typeEl.textContent = verb.type;

                if (verb.kana) {
                    speak(verb.kana);
                }

                handwritingContainer.innerHTML = '';

                if (verb.kanji && verb.kanji !== '---') {
                    const kanjiToPractice = verb.kanji.replace(/[^ä¸€-é¾¯]/g, '');
                    if (kanjiToPractice.length > 0) {
                        for (const char of kanjiToPractice) {
                            const box = document.createElement('div');
                            box.className = 'kanji-box';
                            handwritingContainer.appendChild(box);
                            const writer = HanziWriter.create(box, char, {
                                width: 150,
                                height: 150,
                                padding: 5,
                                showOutline: true,
                                strokeAnimationSpeed: 1,
                                delayBetweenStrokes: 200,
                                strokeColor: '#121212', // Dark stroke color
                                outlineColor: '#DDDDDD'
                            });
                            writer.quiz();
                        }
                    } else {
                        handwritingContainer.innerHTML = '<p style="color: #888;">This verb uses kana, no kanji to practice.</p>';
                    }
                } else {
                    handwritingContainer.innerHTML = '<p style="color: #888;">No Kanji for this verb.</p>';
                }
            }
            
            nextButton.addEventListener('click', () => {
                currentVerbIndex++;
                loadVerb();
            });
            
            speakButton.addEventListener('click', () => {
                if (kanaEl.textContent) {
                    speak(kanaEl.textContent);
                }
            });

            loadVerb();
        });
    </script>
</body>
</html>
